<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="openMenu()">
        <ion-icon slot="icon-only" name="menu"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button (click)="filterRotations()">
        <ion-icon slot="icon-only" name="filter"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>
      <ng-container *ngIf="authService.isStudentMode">
        Mes évaluations
      </ng-container>
      <ng-container *ngIf="authService.isEvaluatorMode">
        Évaluations
      </ng-container>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-card
    [routerLink]="['/rotation-detail', rotation]"
    *ngFor="let rotation of [1, 2, 3, 4]"
  >
    <ion-card-header>
      <ion-card-title>Rotation</ion-card-title>
      <ion-card-subtitle>10-14 Août 2020</ion-card-subtitle>

      <div class="badges">
        <div class="users-badge">
          <ion-icon slot="icon-only" name="happy"></ion-icon>
          <div class="badge-value">4</div>
        </div>

        <div class="discussion-badge -noValue">
          <ion-icon slot="icon-only" name="chatbubbles"></ion-icon>
        </div>
      </div>
    </ion-card-header>
    <ion-card-content>
      <ng-container *ngIf="authService.isStudentMode">
        3 critères sur 4 ont été évalués
      </ng-container>

      <ng-container *ngIf="authService.isEvaluatorMode">
        <div class="evaluator-content">
          <div>
            <ion-icon
              name="person"
              slot="start"
              class="ion-margin-end"
            ></ion-icon>
            <em>Laurent DAVID</em>
          </div>
          <div>4/4</div>
        </div>
      </ng-container>
    </ion-card-content>
  </ion-card>

  <ion-fab
    vertical="bottom"
    horizontal="end"
    slot="fixed"
    *ngIf="authService.isEvaluatorMode"
    [routerLink]="['/create-evaluation']"
  >
    <ion-fab-button>
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
